Yep — that diagnosis is exactly right.

Go with Option B (cleaner): API language should come from i18n, not LocationContext. LocationContext should own geo + tz, not “what language the user wants”.

Here’s the slow, safe plan.

Step 1 — Decide the single source of truth
	•	UI language = i18n current language (Settings changes it)
	•	API lang param = same i18n language
	•	LocationContext = lat/lng/tz only (optionally device locale as a fallback, but not authoritative)

Step 2 — Implement Option B with minimal change

A) Add a tiny helper: lib/lang.ts

Create lib/lang.ts:

// lib/lang.ts
import i18n from "@/lib/i18n"; // adjust path if yours differs

export function getApiLang(): string {
  const raw = i18n.language || "en";
  // normalize: "fr-CH" -> "fr"
  return raw.split("-")[0].toLowerCase();
}

If your i18n instance is exported differently (e.g. import i18n from "i18next" or import { i18n } from ...), just match your project.

B) Change API calls to use getApiLang() (not useLocation().language)

Wherever you build requests (sounds like lib/api.ts around your “Fetching …” logs), do:

import { getApiLang } from "@/lib/lang";

and when forming URLs:

const lang = getApiLang();

Then pass that lang into all calls (daily-bundle, traditional-calendars, upcoming, etc.).

C) Keep LocationContext language detection if you want (but stop using it for API)

You can leave it there for now to avoid ripples. Just don’t feed API from it.

Step 3 — Verify (the one test that matters)
	1.	Start app in English
	2.	Switch Settings → French
	3.	Ensure logs show:

	•	Detected language: fr → API code: fr (or whatever you log)
	•	Requests include lang=fr
	•	Responses still 200

If those 3 happen, you’re done.

⸻

When Option A is still useful

Only if you want LocationContext to expose a language value for UI convenience. But architecturally, it’s the wrong “owner”.

⸻

If you paste the snippet of your current lib/api.ts where lang is chosen (the part around “Detected language…” + where URLs are built), I’ll tell you exactly what to replace—line-for-line—so you don’t have to hunt.